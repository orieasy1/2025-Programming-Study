# 01. DDD(Domain Driven Design)

**Domain Driven Design 도메인 주도 설계**란

- 2003년 에릭 에반슨의 도서에서 처음 알려진 모델
- 도메인 설계나 개발 작업의 중심에 **도메인 모델**을 두고 반복적으로 변경 및 진화시켜서 프로그램을 구현하는 개발 방법론

### 비즈니스 도메인이란?

비즈니스를 소프트웨어로 구현하기 위해서는 비즈니스 모델에 대해 정확히 이해해야 함.

비즈니스 도메인
= 기업의 주요 활동 영역
= 그 회사가 고객에게 제공하는 서비스

기업은 여러 개의 도메인을 운영할 수 있다.

- Amazon: 소매와 클라우드 서비스 제공
- Uber: 차량 공유회사이면서 음식 배달 및 자전거 공유 서비스도 제공

### 하위 도메인이란?

비즈니스 도메인을 운영할 수 있도록 지원하는 서비스

= 비즈니스 도메인의 목표 달성을 위해서는 여러 가지 하위 도메인(서브 비즈니스)을 운영해야 한다.

= 비즈니스 활동의 세분화된 영역

하위 도메인은 **고객에게 제공하는 서비스 단위**로 비즈니스 도메인을 만든다.

각각의 하위 도메인은 회사의 비즈니스 도메인에서 목표를 달성하기 위해 서로 상호작용해야 한다.

예시) 스타벅스

- 비즈니스 도메인: 커피 판매
- 하위 도메인: 부동산 구매/임대, 직원 고용, 재정 관리 등

예시) 프로젝트 관리 어플리케이션

특정회사에서 운영하는 여러 가지 프로젝트를 통합 관리하는 프로그램으로 진행 중인 프로젝트를 목록별로 기간, 진행사항, 투입 인력, 비용을 관리한다.

이 때 

- 핵심 하위 도메인: 프로젝트 구분 관리
- 일반 하위 도메인
    - WBS
    - To Do
    - 인력관리
    - 비용관리
- 지원 하위 도메인
    - 캘린더 연동
    - Notification 연동(slack)

등으로 생각할 수 있을 것이다.

### 도메인 전문가

우리가 모델링하고 코드로 구현할 서비스의 모든 복잡성을 알고 있는 주제 전문가

도메인 전문가는 회사의 비즈니스 도메인 또는 하나 이상의 하위 도메인에 대한 심층적인 지식을 가지고 있으며 프로젝트 성공에 매우 중요한 역할을 한다.

도메인 전문가들이 소프트웨어 아키텍처를 설계했을 때 원하는 비즈니스 모델이 소프트웨어로 구현될 수 있다.

## DDD 적용 이유

### 소프트웨어 개발 시 발생할 수 있는 복잡도를 최소화 함

**소프트웨어 개발 시 발생할 수 있는 복잡도**

- **개발 초기 1단계:** 고객의 요구사항을 추출, 분석, 설계 구현까지 진행
처음에는 작은단위로 설계를 해서 운영
- **2단계**: 고객의 요구 조건이 구체화, 다양화되면서 계속되는 추가 요구사항 발생
처음에는 핵심 도메인만 가지고 있다가 하위 도메인이 점점 늘어나는 것 → 도메인이 복잡해짐
- **3단계:** 도메인에 대한 이해 부족 상태에서 업무에 관련된 로직이 계속 추가되고 하나의 큰 덩어리로 얽히게 됨.
- **4단계**: 하나의 큰 덩어리로 얽힌 서비스는 클래스 파악과 유지보사가 어려움

처음에는 작은 단위로 시작하여 빈번한 수정이 일어나면서 유지보수가 어려워짐

서비스의 하위 도메인이 복잡해지면 유지보수만 어려워지는 것이 아니라 서비스 성능에도 영향을 미치며 새로운 기술을 도입할 때도 어디서부터 도입해야하는지 알 수 없어서 신속한 기술 지원또한 힘들어짐.

### 소프트웨어 프로젝트에서  지식 공유 흐름

소프트웨어 프로젝트에는 도메인 전문가, 프로젝트 소유자, 엔지니어, UI/UX 디자이너, 프로젝트 매니저, 테스터, 분석가 등 다양한 역할의 이해관계자의 협업 필요

이해관계자 간의 커뮤니케이션 문제를 없애고 상호 이해할 수 있고 모든 문서와 코드에 이르기 가지 동일한 표현과 단어로 구성된 유비쿼터스 언어 즉 단일화 된 언어체계를 구축

### DDD 바운디드 컨텍스트

도메인은 여러 하위 도메인으로 구분되기 때문에 한계의 모델로 여러 개의 하위 도메일을 표현하기 어려움.

각 하위 도메인은 명시적으로 구분되는 경계를 통해 섞이지 않도록 하는데 이렇게 구분되는 경께를 갖는 컨텍스트를 bounded context라 함

![image](https://github.com/user-attachments/assets/1e0e284a-1872-4be2-a9cf-cb7034bf8374)


### 도메인 주도 설계의 장단점

**장점**

- SW Life-Cycle동안 용이한 커뮤니케이션
- 바운디드 컨텍스트를 바탕으로 모듈화/캡슐화 기반 유연성 향성
- 확장성이 좋아 현재 상황에 적합한 S/W 개발

**단점**

- 도메인 전문가 참여 필수 요구
- 기존 도메인의 관행 개선 어려움
- 기술적으로 복잡한 프로젝트에 부적합

DDD 기반 프로젝트는 직관적인 도메인 연관 관계로 명확하게 설계 및 기능 구현이 가능하나, 도메인 전문성이 필수이며 프로젝트가 도메인에 종속되어 개선이 어려울 수 있으므로 도메인 전문가와의 적극적인 소통을 통해 효과적인 프로젝트 진행 필요가 있다.
